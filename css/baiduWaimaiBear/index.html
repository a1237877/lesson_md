<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>外卖熊</title>
  <!-- <script src="http://g.tbcdn.cn/mtb/lib-flexible/0.3.4/??flexible_css.js,flexible.js"></script>著作权归作者所有。 -->
  <link rel="stylesheet" href="./bear.css">
</head>

<body>
  
  <div class="view preload active">
      <button class="button">按钮</button>
    <div class="load-logo-c">
      <div class="rider1-c">
        <div class="rider1"></div>
      </div>
      <div class="process-c">
        <div class="process-v"></div>
      </div>
      <div class="process-txt"></div>
    </div>
    <div class="footer">
      <div class="product-logo"></div>
      <div id="next">下一屏</div>
      <div class="product-logo-desc">
        @ 2015 Baidu Waimai Produced
      </div>
    </div>
  </div>
  <div class="view index">
    第二屏
  </div>
  <script>
    window.onload = function () {
      let progress = 0;
      const next = document.getElementById('next');
      let interval = setInterval(function () {

        progress += 10;
        console.log(progress);
        document.querySelector('.process-v').style.width = progress + '%';
        if (progress >= 100) clearInterval(interval);
      }, 100);
      function changeView(index) {
        const viewNodes = document.
        getElementsByClassName('view');
        const clientHeight = document.documentElement.clientHeight;
        const target = index - 1;
        if (target < 0) return false;

        for (let i = 0; i < viewNodes.length; i ++) {
          if (target === i) {
            viewNodes[i].style.transform = 'translate3d(0px, -' + clientHeight + 'px, 0px)';
          } else {
            viewNodes[i].classList.remove('active');
            viewNodes[i].style.transform = '';
          }
        }
        viewNodes[index].classList.add('active');
      }
      next.addEventListener('click', () => {
        changeView(1);
      })
    }
  </script>
</body>

</html>